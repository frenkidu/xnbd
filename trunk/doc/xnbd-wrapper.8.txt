XNBD-WRAPPER(8)
===============
:man source:   {manual_package}
:man version:  {manual_version}
:man manual:   {manual_title}


NAME
----
xnbd-wrapper - Manage multiple files to be exported as a block device to other
               computers running the GNU/Linux(tm) Operating System

SYNOPSIS
--------
*xnbd-wrapper* [ --imgfile 'IMAGE' [--imgfile 'IMAGE' ...] ]
    [--laddr 'ADDRESS'] [--lport 'PORT'] [--socket 'PATH'] [--xnbd-binary 'PATH']
    [--daemonize] [--logpath 'PATH']


DESCRIPTION
-----------
*xnbd-wrapper* is a super-server for xnbd-server. Its purpose is to manage
multiple exported images at once. A client may connect to this super-server and
it will be indirected to the actual xnbd-server providing the requested
resource.

*xnbd-wrapper* comes handy if you want to export multiple files (or block
devices) on a single host. Instead of starting multiple xnbd-server instances
and remember the exported port for each, you can use *xnbd-wrapper* to looks up
the requested image file name and map it automatically to the corresponding
xnbd-server.


OPTIONS
-------
The following options are supported:

*--daemonize*::
    Go into background as soon as the xnbd-server is started up

*--imgfile* 'IMAGE'::
    Export the image file 'IMAGE' through *xnbd-wrapper*, with 'IMAGE'
    being a block device or a file name of an image file.
    +
    *xnbd-wrapper* will export the file name accessible through this name
    to clients, which may connect to the server by providing this name
    +
    This option can be specified multiple times. In this case, xnbd-wrapper
    will export all 'IMAGE' files at once. Alternatively, this
    argument can be omitted and images may be (un-)exported ar runtime
    with xnbd-wrapper-ctl.

*--laddr* 'ADDRESS'::
    The address, where this wrapper shall listen for incoming connections.
    You can specify any resolvable hostname or IP address, being
    in IPv4 or IPv6 notation.

*--logpath* 'FILE'::
    Log informational messages to the given 'FILE' if given. Defaults to
    /tmp/xnbd.log

*--lport* 'PORT'::
    Accept incoming connections on the given 'PORT'. A valid port is any
    number between 1 and 65536. You may not use the same listeing port
    more than once per system. If this argument is not given, xNBD will
    listen on port 8520 by default.

(*--port* 'PORT')::
    Deprecated, please use *--lport* instead.
    This option might be removed in future releases.

*--socket* 'PATH'::
    The xNBD wrapper can be controlled through a control socket. When
    given, use 'PATH' as file name, default is /tmp/xnbd_wrapper.ctl.

*--xnbd-binary* 'PATH'::
    Specifies the path to the xnbd-server program. The wrapper will
    spawn server instances on demand. Give 'PATH' as file name, default is
    "xnbd-server" (relative to the directory, where the wrapper resides).


SEE ALSO
--------
xnbd-client(1), xnbd-server(8), xnbd-wrapper-ctl(8)


AUTHOR
------
The NBD kernel module and the NBD tools have been written by Pavel Macheck
(pavel@ucw.cz) and is now maintained by Paul Clements
(Paul.Clements@steeleye.com).

The xNBD userland (client and server) have been written by Takahiro Hirofuchi
(t.hirofuchi@aist.go.jp).

This manual page was written by Arno Toell (debian@toell.net) for the Debian
GNU/Linux system (but may be used by others). Permission is granted to copy,
distribute and/or modify this document under the terms of the GNU General
Public License, version 2, as published by the Free Software Foundation.
