XNBD-WRAPPER-CTL(8)
===================
:man source:   {manual_package}
:man version:  {manual_version}
:man manual:   {manual_title}


NAME
----
xnbd-wrapper-ctl - Manage an xnbd-wrapper(8) super-server.


SYNOPSIS
--------
*xnbd-wrapper-ctl* [options] --list

*xnbd-wrapper-ctl* [options] [--local-exportname 'NAME'] --add 'FILE'

*xnbd-wrapper-ctl* [options] [--local-exportname 'NAME'] [--target-exportname 'NAME']
    --add-proxy 'TARGET_HOST' 'TARGET_PORT' 'CACHE_IMAGE' 'BITMAP_IMAGE' 'CONTROL_SOCKET_PATH'

*xnbd-wrapper-ctl* [options] --remove 'INDEX'

*xnbd-wrapper-ctl* [options] --remove-by-file 'FILE'

*xnbd-wrapper-ctl* [options] --remove-by-exportname 'NAME'

*xnbd-wrapper-ctl* [options] --local-exportname 'NAME' --bgctl-query

*xnbd-wrapper-ctl* [options] --local-exportname 'NAME' --bgctl-switch

*xnbd-wrapper-ctl* [options] --local-exportname 'NAME' --bgctl-cache-all

*xnbd-wrapper-ctl* [options] --local-exportname 'NAME' [--target-exportname 'NAME'] --bgctl-reconnect 'REMOTE_HOST' 'REMOTE_PORT'


DESCRIPTION
-----------
With the *xnbd-wrapper-ctl* command you can connect to an xnbd-wrapper control
channel and instruct it to act as directed. You may pass certain commands as
argument to the control program which are then forwarded, on your behalf, to
the xnbd-server instance.


OPTIONS
-------
The following options are supported:

*--add*|*-a* 'FILE'::
    Instruct the xnbd-wrapper to add the given 'FILE' as exported xNBD
    device.

*--add-proxy* 'TARGET_HOST' 'TARGET_PORT' 'CACHE_IMAGE' 'BITMAP_IMAGE' 'CONTROL_SOCKET_PATH'::
    Instruct the xnbd-wrapper to add a proxy to the given target server.

*--help*|*-h*::
    Display a short usage overview and exit

*--list*|*-l*::
    Connects to the xNBD wrapper and retrieves the list of exported file
    names

*--remove*|*-r* 'INDEX'::
    Instruct the xnbd-wrapper to remove the volume exported on 'INDEX'
    from the list of exported xNBD devices.

*--remove-by-file* 'FILE'::
    Instruct the xnbd-wrapper to remove the volume wired to file 'FILE'
    from the list of exported xNBD devices.

*--remove-by-exportname* 'NAME'::
    Instruct the xnbd-wrapper to remove the volume exported as 'NAME'
    from the list of exported xNBD devices.

*--socket*|*-s* 'SOCKETPATH'::
    Connect to 'SOCKETPATH' as xnbd-wrapper control socket. Default is
    /tmp/xnbd_wrapper.ctl.

*--local-exportname* 'NAME'::
    Set the export name to export the image as.

*--target-exportname* 'NAME'::
    Set the export name to request from the proxied xnbd-wrapper target.
    This option is used in combination with *--add-proxy* and *--bgctl-reconnect*, only.

*--bgctl-cache-all*::
    Please see xnbd-bgctl(1) for details.

*--bgctl-query*::
    Please see xnbd-bgctl(1) for details.

*--bgctl-reconnect* 'REMOTE_HOST' 'REMOTE_PORT'::
    Please see xnbd-bgctl(1) for details.

*--bgctl-switch*::
    Please see xnbd-bgctl(1) for details.


SEE ALSO
--------
xnbd-wrapper(1), xnbd-server(8), xnbd-bgctl(1)


AUTHOR
------
The NBD kernel module and the NBD tools have been written by Pavel Macheck
(pavel@ucw.cz) and is now maintained by Paul Clements
(Paul.Clements@steeleye.com).

The xNBD userland (client and server) have been written by Takahiro Hirofuchi
(t.hirofuchi@aist.go.jp).

This manual page was written by Arno Toell (debian@toell.net) for the Debian
GNU/Linux system (but may be used by others). Permission is granted to copy,
distribute and/or modify this document under the terms of the GNU General
Public License, version 2, as published by the Free Software Foundation.
