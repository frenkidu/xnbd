<!doctype refentry PUBLIC "-//OASIS//DTD DocBook V4.5//EN" [

<!-- Process this file with docbook-to-man to generate an nroff manual
     page: `docbook-to-man manpage.sgml > manpage.1'.  You may view
     the manual page with: `docbook-to-man manpage.sgml | nroff -man |
     less'.  A typical entry in a Makefile or Makefile.am is:

manpage.1: manpage.sgml
	docbook-to-man $< > $@
  -->

  <!-- Fill in your name for FIRSTNAME and SURNAME. -->
  <!ENTITY dhfirstname "<firstname>Arno</firstname>">
  <!ENTITY dhsurname   "<surname>Toell</surname>">
  <!-- Please adjust the date whenever revising the manpage. -->
  <!ENTITY dhdate      "<date>$Date$</date>">
  <!-- SECTION should be 1-8, maybe w/ subsection other parameters are
       allowed: see man(7), man(1). -->
  <!ENTITY dhsection   "<manvolnum>8</manvolnum>">
  <!ENTITY dhemail     "<email>debian@toell.net</email>">
  <!ENTITY dhusername  "Arno Toell">
  <!ENTITY dhucpackage "<refentrytitle>XNBD-WRAPPER</refentrytitle>">
  <!ENTITY dhpackage   "xnbd-wrapper-ctl">

  <!ENTITY debian      "<productname>Debian GNU/Linux</productname>">
  <!ENTITY gnu         "<acronym>GNU</acronym>">
]>

<refentry>
  <refentryinfo>
    <address>
      &dhemail;
    </address>
    <author>
      &dhfirstname;
      &dhsurname;
    </author>
    <copyright>
      <year>2011</year>
      <holder>&dhusername;</holder>
    </copyright>
    &dhdate;
  </refentryinfo>
  <refmeta>
    &dhucpackage;

    &dhsection;
  </refmeta>
  <refnamediv>
    <refname>&dhpackage;</refname>

    <refpurpose>manage a <command>xnbd-wrapper</command>(8) super-server.</refpurpose>
  </refnamediv>
  <refsynopsisdiv>
    <cmdsynopsis>
      <command>&dhpackage;</command>
      <arg>--socket  <replaceable>SOCKETPATH</replaceable></arg>
      <arg>--add  <replaceable>FILE</replaceable></arg>
      <arg>--remove  <replaceable>FILE</replaceable></arg>
      <arg>--list</arg>
    </cmdsynopsis>
  </refsynopsisdiv>
  <refsect1>
    <title>DESCRIPTION</title>

    <para>With the <command>&dhpackage;</command> command you can connect to a
    <command>xnbd-wrapper</command> control
    channel and instruct it to act as directed. You may pass certain commands as argument to the
    control program which are then forwarded, on your behalf, to the server instance.</para>

  </refsect1>
  <refsect1>
    <title>OPTIONS</title>

    <para>The following options are supported:</para>

    <variablelist>

      <varlistentry>
	<term><option>--add|-a  <replaceable>FILE</replaceable></option>
	</term>
	<listitem>
	<para>Instruct the <command>xnbd-wrapper</command> to add the given
	<replaceable>FILE</replaceable> as exported xNBD device.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>--help|-h</option>
	</term>
	<listitem>
	<para>Display a short usage overview and exit</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>--list|-l</option>
	</term>
	<listitem>
	<para>Connects to the xNBD wrapper and retrieves a list exported file names</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>--remove|-r  <replaceable>INDEX</replaceable></option>
	</term>
	<listitem>
	<para>Instruct the <command>xnbd-wrapper</command> to remove the volume
	exported on <replaceable>INDEX</replaceable> from the list of exported xNBD devices.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>--socket|-s  <replaceable>SOCKETPATH</replaceable></option>
	</term>
	<listitem>
	<para>Connect to <replaceable>SOCKETPATH</replaceable> as
	<command>xnbd-wrapper</command> control sokcet. Default is
	<emphasis>/tmp/xnbd_wrapper.ctl</emphasis>.</para>
	</listitem>
      </varlistentry>

    </variablelist>
  </refsect1>

  <refsect1>
    <title>SEE ALSO</title>

    <para>xnbd-wrapper (1), xnbd-server (8).</para>

  </refsect1>
  <refsect1>
    <title>AUTHOR</title>
    <para>The NBD kernel module and the NBD tools have been written by
    Pavel Macheck (pavel@ucw.cz) and is now maintained by Paul Clements.
    (Paul.Clements@steeleye.com).</para>

    <para>The xNBD userland (client and server) have been written by
     Takahiro Hirofuchi (t.hirofuchi@aist.go.jp)</para>

    <para>This manual page was written by &dhusername; (&dhemail;) for
    the &debian; system (but may be used by others). Permission is
    granted to copy, distribute and/or modify this document under the
    terms of the <acronym>GNU</acronym> General Public License,
    version 2, as published by the Free Software Foundation.</para>

  </refsect1>
</refentry>

