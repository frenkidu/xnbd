XNBD-WATCHDOG(1)
================
:man source:   {manual_package}
:man version:  {manual_version}
:man manual:   {manual_title}


NAME
----
xnbd-watchdog - Watch a NBD device as started by xnbd-client(1)


SYNOPSIS
--------
*xnbd-watchdog* [--timeout 'SECONDS'] [--interval 'SECONDS']
    [--recovery-command 'COMMAND'] [--recovery-command-reboot] ['NBD_DEVICE']


DESCRIPTION
-----------
With the *xnbd-watchdog*, you can monitor a running nbd-client and trigger
actions on failure.


OPTIONS
-------
The following options are supported:

*--timeout* 'SECONDS'::
    Triggers the recovery command action if the watchdog process is
    unable to connect to the 'NBD_DEVICE' within the given timeout. If not
    given, this defaults to 10 seconds.

*--interval* 'SECONDS'::
    Specifies the polling interval between probes. If not given, this
    defaults to 10 seconds.

*--recovery-command* 'COMMAND'::
    If given, the 'COMMAND' is executed if the watchdog is unable to connect
    the NBD device after timeout exceeded.

*--recovery-command-reboot*::
    This argument is a shortcut for *--recovery-command* "reboot now".
    That is, it will reboot the server upon failure.


POSITIONAL ARGUMENTS
--------------------
The following positional options are supported:

'NBD_SERVER'::
    The local nbd-device to be associated with the remote xnbd-server.


SEE ALSO
--------
xnbd-server (8).


AUTHOR
------
The NBD kernel module and the NBD tools have been written by Pavel Macheck
(pavel@ucw.cz) and is now maintained by Paul Clements.
(Paul.Clements@steeleye.com).

The xNBD userland (client and server) have been written by Takahiro Hirofuchi
(t.hirofuchi@aist.go.jp)

This manual page was written by Arno Toell (debian@toell.net) for the Debian
GNU/Linux system (but may be used by others). Permission is granted to copy,
distribute and/or modify this document under the terms of the GNU General
Public License, version 2, as published by the Free Software Foundation.
